<!DOCTYPE html>
<html>
   <!-- source for script https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Sections_and_Outlines_of_an_HTML5_document -->
   <!--[if lt IE 9]>
  <script>
    document.createElement("header" );
    document.createElement("footer" );
    document.createElement("section"); 
    document.createElement("aside"  );
    document.createElement("nav"    );
    document.createElement("article"); 
    document.createElement("hgroup" ); 
    document.createElement("time"   );
  </script>
  <noscript>
     <strong>Warning !</strong>
     Because your browser does not support HTML5, some elements are created using JavaScript.
     Unfortunately your browser has disabled scripting. Please enable it in order to display this page.
  </noscript>
<![endif]-->
<head>
  <title>Proof of Concept | Home Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/autocomplete.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
   <!-- required for auth and more -->
   <!-- Firebase App is always required and must be first -->
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-app.js"></script>

<!-- Add additional services you want to use -->
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-messaging.js"></script>
<!-- <script src="https://www.gstatic.com/firebasejs/5.0.4/firebase-functions.js"></script> -->

   <!-- end required for auth and more -->
   <!-- start of authorization of signin for firebase -->
     <script type="text/javascript">
    /**
     * Handles the sign in button press.
     */
    function toggleSignIn() {
      if (firebase.auth().currentUser) {
        // [START signout]
        firebase.auth().signOut();
        // [END signout]
      } else {
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        if (email.length < 4) {
          alert('Please enter an email address.');
          return;
        }
        if (password.length < 4) {
          alert('Please enter a password.');
          return;
        }
        // Sign in with email and pass.
        // [START authwithemail]
        firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          // [START_EXCLUDE]
          if (errorCode === 'auth/wrong-password') {
            alert('Wrong password.');
          } else {
            alert(errorMessage);
          }
          console.log(error);
          document.getElementById('quickstart-sign-in').disabled = false;
          // [END_EXCLUDE]
        });
        // [END authwithemail]
      }
      document.getElementById('quickstart-sign-in').disabled = true;
    }
   </script>
  <!-- end of authorization of signin for firebase --> 
 </head>
  <body onload="showMyFace()">
     <div class="space25">&nbsp;</div><!-- holder for future accessibility notifications -->
       <div class="row">
       <div class="container">
            <div class="col-md-4"><!-- contains chat -->
           <iframe
              width="350"
              height="430"
              src="https://console.dialogflow.com/api-client/demo/embedded/2826f62d-5973-4ab8-b5c8-84a4d026e807">
          </iframe>
            </div><!-- col md 4 -->       
              <div class="col-md-8">
                   <div class="video-header">
                      <h1>Proof of Concept: Virtual Legal Clinic</h1>
                   </div>
                   <div>
                      <video id="yourVideo" autoplay muted playsinline></video>
                      <video id="friendsVideo" autoplay playsinline></video>
                   </div>   
                   <div>
                      <!-- IMPORTANT REMBER TO CHANGE ID ON BUTTON -->
                   <button  onclick="showFriendsFace()" type="button" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-facetime-video" aria-hidden="true"></span> Call</button>
                   </div>   
                   <!-- <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script> -->
                   <script src="https://www.gstatic.com/firebasejs/5.0.2/firebase.js"></script>
                   <script src="js/script.js"></script>
                </div><!-- col-md  8 -->
            </div><!-- container -->  
       </div><!-- row -->
      <!-- @TODO Check for possible conflict of Initial Intake Form versus authentication in signIn -->
       <div class="space25">&nbsp;</div><!-- holder for future accessibility notifications -->
       <div class="row">
            <div class="container">
                 <div class="col-md-4"><!-- upload -->                 
                   <div style="text-align:center">
                     <script>
                       var slackerror = document.querySelector('slack-error');
                       var slackalert = document.querySelector('slack-alert');
                    </script>
                    <div class="alert" aria-live="polite"></div>
                       <h3>Upload Documents with Slack!</h3>
                       <h4>LOG IN with your email account and post to: #sharon-testing</h4>
                       <form id="goToSlackForm">
                       <input class="btn btn-primary btn-lg" type="button" value="Go to SLACK"  onclick="window.location.href='https://slack.com/oauth/authorize?client_id=342068113523.371240123760&scope=files:read'" /> 
                        </form>  
                   </div><!-- wrapper for form -->
                 </div><!-- col md-4 for uploading documents -->
                 
                 <div class="col-md-8"><!-- intake form -->
                    <script>
                       var signinerror = document.querySelector('signin-error');
                       var signinalert = document.querySelector('signin-alert');
                    </script>
                    
                    <div class="alert" aria-live="polite"></div>
                    <div><!-- form wrapper -->
                       <span style="text-align:center"><h3>Sign In</h3></span>   
                         <form id="signInForm" autocomplete="off" style="text-align:center;">
                            <div><!-- wrapper for email -->
                              <label for="email">Email:</label>&nbsp;&nbsp;&nbsp;  
                              <input name="email" id="email1" type="email" required x-moz-errormessage="Please specify a valid email address.">
                            </div><br /><!-- wrapper for email -->
                            <div><!-- wrapper for password -->
                              <label for="password">Password:</label>  
                              <input name="password" id="password1" type="password" required x-moz-errormessage="Please specify a valid email address.">
                            </div><!-- closes wrapper for password -->
                              <div style="margin-top:25px;">
                                <input type="submit" class="btn btn-primary btn-lg" value="Submit" name="signIn" id="signIn">
                         </form>
                      </div><!-- signIn button -->
                    </div><!-- form wrapper -->
                 </div><!-- col md 8 for signIn form --> 
               
        </div><!-- container for intake form -->
       </div><!-- row for intake form -->
     <div class="row">
        <div class="container">
           <div class="col-md-12">
                  <!-- Container for the demo -->
      <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop">
        <div class="mdl-card__title mdl-color--light-blue-600 mdl-color-text--white">
          <h2 class="mdl-card__title-text">Firebase Email &amp; Password Authentication</h2>
        </div>
        <div class="mdl-card__supporting-text mdl-color-text--grey-600">
          <p>Enter an email and password below and either sign in to an existing account or sign up</p>

          <input class="mdl-textfield__input" style="display:inline;width:auto;" type="text" id="email" name="email" placeholder="Email"/>
          &nbsp;&nbsp;&nbsp;
          <input class="mdl-textfield__input" style="display:inline;width:auto;" type="password" id="password" name="password" placeholder="Password"/>
          <br/><br/>
          <button disabled class="mdl-button mdl-js-button mdl-button--raised" id="quickstart-sign-in" name="signin">Sign In</button>
          &nbsp;&nbsp;&nbsp;
          <button class="mdl-button mdl-js-button mdl-button--raised" id="quickstart-sign-up" name="signup">Sign Up</button>
          &nbsp;&nbsp;&nbsp;
          <button class="mdl-button mdl-js-button mdl-button--raised" disabled id="quickstart-verify-email" name="verify-email">Send Email Verification</button>
          &nbsp;&nbsp;&nbsp;
          <button class="mdl-button mdl-js-button mdl-button--raised" id="quickstart-password-reset" name="verify-email">Send Password Reset Email</button>

          <!-- Container where we'll display the user details -->
          <div class="quickstart-user-details-container">
            Firebase sign-in status: <span id="quickstart-sign-in-status">Unknown</span>
            <div>Firebase auth <code>currentUser</code> object value:</div>
            <pre><code id="quickstart-account-details">null</code></pre>
          </div>
           </div>
        </div>
     </div>
     
<!-- scripting for firebase starts here -->
<script src="https://www.gstatic.com/firebasejs/5.0.4/firebase.js"></script>
<script>
    // Initialize Firebase for Email sign-in
  var config5 = {
    apiKey: "AIzaSyBlY3OteC7Dn0y0diemxPlg62XgVMqkCHg",
    authDomain: "signin-fcc07.firebaseapp.com",
    databaseURL: "https://signin-fcc07.firebaseio.com",
    projectId: "signin-fcc07",
    storageBucket: "signin-fcc07.appspot.com",
    messagingSenderId: "612057419132"
  };
  firebase.initializeApp(config5);
   
  // Initialize Firebase for Video
  //var config1 = {
    //apiKey: "AIzaSyDL-wkEdZ6nSowhkvIfyQZmOEYTcYd1e5s",
    //authDomain: "hackathon-video-chat.firebaseapp.com",
    //databaseURL: "https://hackathon-video-chat.firebaseio.com",
    //projectId: "hackathon-video-chat",
    //storageBucket: "hackathon-video-chat.appspot.com",
    //messagingSenderId: "633008113206"
  //};
  //firebase.initializeApp(config1);
  // Initialize Firebase Chatbot
  //var config2 = {
      //apiKey: "AIzaSyBoQrKt-wB0MMWw6E6NV5YognrXNCSq1aQ",
      //authDomain: "virtualclinicprototype.firebaseapp.com",
      //databaseURL: "https://virtualclinicprototype.firebaseio.com",
      //projectId: "virtualclinicprototype",
      //storageBucket: "virtualclinicprototype.appspot.com",
      //messagingSenderId: "314092904355"
  //};
  //firebase.initializeApp(config2);
  //firebase.initializeApp(config1, config2);
  //firebase.initializeApp(config3); 
</script>
     <!-- <script src="intake-initial.js"></script>  -->
  </body>   
</html>
